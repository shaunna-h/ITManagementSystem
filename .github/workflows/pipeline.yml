name: run manage.py
on:
  push:
    branches:
       - 'main'
  pull_request:
     branches:
       - 'main'
jobs:

   tests:
      runs-on: ubuntu-latest
      steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Setup Python
        uses: actions/setup-python@v4
        with:
         python-version: '3.9'
         cache: pip
      - name: Install python packages
        run: pip install -r requirements.txt
      # - name: Run migrations
      #   working-directory: inventory_management
      #   env:
      #     DJANGO_SETTINGS_MODULE: "inventory_management.inventory_management.settings"  
      #   run: python manage.py migrate
      - name: Run tests
        run: python manage.py test